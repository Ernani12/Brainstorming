{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire('slate');\n/**\n * Return the current code block, from current selection or from a node key.\n */\n\n\nfunction getCurrentCode(opts, value, key) {\n  var document = value.document;\n  var currentBlock = void 0;\n\n  if (key) {\n    // FIXME - getDescendant?\n    currentBlock = value.document.getDescendant(key);\n  } else {\n    if (!value.selection.start.key) return null;\n    currentBlock = value.startBlock;\n  } // The structure is always code_block -> code_line -> text\n  // So the parent of the currentBlock should be the code_block\n\n\n  var parent = document.getParent(currentBlock.key);\n\n  if (parent && parent.type === opts.containerType) {\n    return parent;\n  }\n\n  return null;\n}\n\nexports.default = getCurrentCode;","map":null,"metadata":{},"sourceType":"script"}