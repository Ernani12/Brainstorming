{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ernan\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\UnifeiFreeRoomClassInteractive\\\\Brainstorming\\\\src\\\\component\\\\toolbar\\\\toolbar-item-export.js\";\nimport cx from \"classnames\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuDivider, MenuItem, Popover } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { downloadFile } from \"../../utils\";\nexport function ToolbarItemExport(props) {\n  const onClickExportJson = e => {\n    const {\n      diagram\n    } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const {\n      controller,\n      model\n    } = diagramProps;\n    const json = controller.run(\"serializeModel\", diagramProps);\n    const jsonStr = JSON.stringify(json);\n    const url = `data:text/plain,${encodeURIComponent(jsonStr)}`;\n    const title = controller.run(\"getTopicTitle\", { ...diagramProps,\n      topicKey: model.rootTopicKey\n    });\n    downloadFile(url, `${title}.blinkmind`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(\"bm-toolbar-item\", iconClassName(\"export\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Popover, {\n    enforceFocus: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bm-toolbar-popover-target\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    text: \"JSON(.json)\",\n    onClick: onClickExportJson,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(MenuDivider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/ernan/OneDrive/Área de Trabalho/UnifeiFreeRoomClassInteractive/Brainstorming/src/component/toolbar/toolbar-item-export.js"],"names":["cx","iconClassName","Menu","MenuDivider","MenuItem","Popover","React","downloadFile","ToolbarItemExport","props","onClickExportJson","e","diagram","diagramProps","getDiagramProps","controller","model","json","run","jsonStr","JSON","stringify","url","encodeURIComponent","title","topicKey","rootTopicKey"],"mappings":";AAAA,OAAOA,EAAP,MAAe,YAAf;AACA,SAASC,aAAT,QAA8B,4BAA9B;AACA,SAASC,IAAT,EAAeC,WAAf,EAA4BC,QAA5B,EAAsCC,OAAtC,QAAqD,mBAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,aAA7B;AAEA,OAAO,SAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AACvC,QAAMC,iBAAiB,GAAGC,CAAC,IAAI;AAC7B,UAAM;AAAEC,MAAAA;AAAF,QAAcH,KAApB;AACA,UAAMI,YAAY,GAAGD,OAAO,CAACE,eAAR,EAArB;AACA,UAAM;AAAEC,MAAAA,UAAF;AAAcC,MAAAA;AAAd,QAAwBH,YAA9B;AAEA,UAAMI,IAAI,GAAGF,UAAU,CAACG,GAAX,CAAe,gBAAf,EAAiCL,YAAjC,CAAb;AACA,UAAMM,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAhB;AACA,UAAMK,GAAG,GAAI,mBAAkBC,kBAAkB,CAACJ,OAAD,CAAU,EAA3D;AACA,UAAMK,KAAK,GAAGT,UAAU,CAACG,GAAX,CAAe,eAAf,EAAgC,EAC5C,GAAGL,YADyC;AAE5CY,MAAAA,QAAQ,EAAET,KAAK,CAACU;AAF4B,KAAhC,CAAd;AAIAnB,IAAAA,YAAY,CAACe,GAAD,EAAO,GAAEE,KAAM,YAAf,CAAZ;AACD,GAbD;;AAeA,sBACE;AAAK,IAAA,SAAS,EAAExB,EAAE,CAAC,iBAAD,EAAoBC,aAAa,CAAC,QAAD,CAAjC,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,YAAY,EAAE,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAC,aAAf;AAA6B,IAAA,OAAO,EAAES,iBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,CADF,CADF;AAWD","sourcesContent":["import cx from \"classnames\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuDivider, MenuItem, Popover } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { downloadFile } from \"../../utils\";\n\nexport function ToolbarItemExport(props) {\n  const onClickExportJson = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller, model } = diagramProps;\n\n    const json = controller.run(\"serializeModel\", diagramProps);\n    const jsonStr = JSON.stringify(json);\n    const url = `data:text/plain,${encodeURIComponent(jsonStr)}`;\n    const title = controller.run(\"getTopicTitle\", {\n      ...diagramProps,\n      topicKey: model.rootTopicKey\n    });\n    downloadFile(url, `${title}.blinkmind`);\n  };\n\n  return (\n    <div className={cx(\"bm-toolbar-item\", iconClassName(\"export\"))}>\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <Menu>\n          <MenuItem text=\"JSON(.json)\" onClick={onClickExportJson} />\n          <MenuDivider />\n        </Menu>\n      </Popover>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}