{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire('slate');\n\nvar _utils = require('../utils');\n/**\n * Wrap a block into a code block.\n */\n\n\nfunction wrapCodeBlockByKey(opts, editor, key) {\n  var value = editor.value;\n  var document = value.document;\n  var startBlock = document.getDescendant(key);\n  var text = startBlock.text; // Remove all child\n\n  editor.withoutNormalizing(function () {\n    startBlock.nodes.forEach(function (node) {\n      editor.removeNodeByKey(node.key);\n    });\n  }); // Insert new text\n\n  var toInsert = (0, _utils.deserializeCode)(opts, text);\n  editor.withoutNormalizing(function () {\n    toInsert.nodes.forEach(function (node, i) {\n      editor.insertNodeByKey(startBlock.key, i, node);\n    });\n  }); // Set node type\n\n  editor.setNodeByKey(startBlock.key, {\n    type: opts.containerType\n  });\n  return editor;\n}\n\nexports.default = wrapCodeBlockByKey;","map":null,"metadata":{},"sourceType":"script"}