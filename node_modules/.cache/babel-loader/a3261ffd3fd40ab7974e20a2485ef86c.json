{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire('slate');\n\nvar _changes = require('../changes');\n\nvar _utils = require('../utils');\n/**\n * User pressed Delete in an editor\n */\n\n\nfunction onBackspace(event, change, next, opts) {\n  var value = change.value;\n  var selection = value.selection;\n  var start = selection.start,\n      isCollapsed = selection.isCollapsed,\n      isExpanded = selection.isExpanded; // Only unwrap...\n  // ... with a collapsed selection\n\n  if (isExpanded) {\n    return next();\n  } // ... when at the beginning of nodes\n\n\n  if (start.offset > 0) {\n    return next();\n  } // ... in a list\n\n\n  var currentItem = (0, _utils.getCurrentItem)(opts, value);\n\n  if (!currentItem) {\n    return next();\n  } // ... more precisely at the beginning of the current item\n\n\n  if (!isCollapsed || !start.isAtStartOfNode(currentItem)) {\n    return next();\n  }\n\n  event.preventDefault();\n  return (0, _changes.unwrapList)(opts, change);\n}\n\nexports.default = onBackspace;","map":null,"metadata":{},"sourceType":"script"}